<?xml version="1.0" encoding="UTF-8"?>
<statements namespace="org.lsqt.syswin.authority.model.RoleModuleConfig" cache="true" import="org.lsqt.components.util.collection.ArrayUtil,org.lsqt.components.util.lang.StringUtil" >
	<table name="t_power_role_module_config">
			<column id="id" type="auto" property="id" text="主键" />
		
	 		<column name="role_id" property="roleId" text="父岗位id"/>
	 	
	 		<column name="module_code" property="moduleCode" text="功能模块"/>
	 	
	 		<column name="level" property="level" text="2=直属下级 3=所有下级"/>
	 		
	</table>
	
	<statement id="queryForPage" parameterName="query">
	 	<![CDATA[
	 		select * from t_power_role_module_config where 1=1 
	 		<#if query??>
					<#if query.key??>
						<#assign key = StringUtil.escapeSql(query.key)/>
						and (
								module_code like '%${key}%' 
						)
					</#if>
				
					<#if query.roleId??> and role_id = ${query.roleId} </#if>
        	</#if>
	 	]]>
	</statement>
</statements>
